{"ast":null,"code":"import _regeneratorRuntime from\"/home/manas/React/newsapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/manas/React/newsapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/manas/React/newsapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/manas/React/newsapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/manas/React/newsapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/manas/React/newsapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import NewsItem from'./NewsItem';import Spinner from'./Spinner';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.handleNextClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({page:_this.state.page+1});_this.updateNews();case 2:case\"end\":return _context.stop();}}},_callee);}));_this.handlePreviousClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({page:_this.state.page-1});_this.updateNews();case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={articles:[],loading:false,page:1};document.title=\"NewsMonkey | \".concat(_this.capitalizeFirstLetter(_this.props.category));return _this;}_createClass(News,[{key:\"capitalizeFirstLetter\",value:function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);}},{key:\"updateNews\",value:function(){var _updateNews=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&category=\").concat(this.props.category,\"&apiKey=1dd6ba6dea624ee08026869c79c64612&page=\").concat(this.state.page,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parsedData=_context3.sent;this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});case 9:case\"end\":return _context3.stop();}}},_callee3,this);}));function updateNews(){return _updateNews.apply(this,arguments);}return updateNews;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.updateNews();case 1:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{\"textAlign\":'center',\"fontFamily\":\"Roboto\"},children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"NewsMonkey - Top \",this.capitalizeFirstLetter(this.props.category),\" Headlines\"]})}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row my-4\",children:!this.state.loading&&this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title,description:element.description,imageUrl:element.urlToImage?element.urlToImage:\"https://yt3.ggpht.com/ytc/AMLnZu-keBdIyIfptG_c2KOdt991SfQbuivNVcMiQ08QQA=s900-c-k-c0x00ffffff-no-rj\",newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})})]});}}]);return News;}(Component);News.defaultProps={pageSize:5,country:\"in\",category:'general'};export{News as default};","map":{"version":3,"names":["React","Component","NewsItem","Spinner","News","props","handleNextClick","setState","page","state","updateNews","handlePreviousClick","articles","loading","document","title","capitalizeFirstLetter","category","string","charAt","toUpperCase","slice","url","country","pageSize","fetch","data","json","parsedData","totalResults","map","element","description","urlToImage","author","publishedAt","source","name","defaultProps"],"sources":["/home/manas/React/newsapp/src/Components/News.js"],"sourcesContent":["import React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types';\n\n\n\nexport default class News extends Component {\n    static defaultProps = {\n        pageSize: 5,\n        country: \"in\",\n        category: 'general'\n    }\n\n    static propTypes = {\n        country: PropTypes.string,\n        pageSize: PropTypes.number,\n        category: PropTypes.string\n    }\n\n    capitalizeFirstLetter(string) {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            articles: [],\n            loading: false,\n            page: 1\n        }\n        document.title = `NewsMonkey | ${this.capitalizeFirstLetter(this.props.category)}`\n    }\n\n    async updateNews() {\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&category=${this.props.category}&apiKey=1dd6ba6dea624ee08026869c79c64612&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n        this.setState({ loading: true });\n        let data = await fetch(url);\n        let parsedData = await data.json();\n        this.setState({\n            articles: parsedData.articles,\n            totalResults: parsedData.totalResults,\n            loading: false\n        })\n    }\n\n    async componentDidMount() {\n        this.updateNews();\n    }\n\n    handleNextClick = async () => {\n        this.setState({ page: this.state.page + 1 })\n        this.updateNews();\n    }\n\n    handlePreviousClick = async () => {\n        this.setState({ page: this.state.page - 1 })\n        this.updateNews();\n    }\n\n\n    render() {\n        return (\n            <div className='container my-3'>\n                <h1 style={{ \"textAlign\": 'center', \"fontFamily\": \"Roboto\" }}><strong>NewsMonkey - Top {this.capitalizeFirstLetter(this.props.category)} Headlines</strong></h1>\n                {this.state.loading && <Spinner />}\n                <div className=\"row my-4\">\n                    {!this.state.loading && this.state.articles.map((element) => {\n                        return <div className=\"col-md-4\" key={element.url}>\n                            <NewsItem title={element.title} description={element.description} imageUrl={element.urlToImage ? element.urlToImage : \"https://yt3.ggpht.com/ytc/AMLnZu-keBdIyIfptG_c2KOdt991SfQbuivNVcMiQ08QQA=s900-c-k-c0x00ffffff-no-rj\"}\n                                newsUrl={element.url} author={element.author} date={element.publishedAt} source={element.source.name} />\n                        </div>\n                    })}\n                </div>\n            </div>\n        )\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}